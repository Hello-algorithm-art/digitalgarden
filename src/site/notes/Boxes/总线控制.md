---
{"dg-publish":true,"permalink":"/Boxes/总线控制/","dgPassFrontmatter":true,"created":"2025-05-08T15:31:53.247+08:00","updated":"2025-05-17T20:55:14.353+08:00"}
---

## 总线判优
解决总线使用权问题，根据设备优先级
### 1.链式查询
![file-20250508161204600.png|400](/img/user/images/%E6%80%BB%E7%BA%BF%E6%8E%A7%E5%88%B6/file-20250508161204600.png)
优点：三根控制线，易扩展
缺点：对电路故障敏感，优先级低的设备难以获得使用权
### 2.计数器定时查询
控制线条数：多增加设备地址线（以二为底取对数向上取整）加上BS,BR
- 总线控制部件接收到BR的请求信号，在BS=0时，控制部件内计数器开始计数，通过设备地址线向各设备发出地址信号，匹配到相应设备，获得控制权

- 计数可以从零开始
- 计数可以从上次终点开始，此时设备优先级相等
![file-20250508161831814.png|400](/img/user/images/%E6%80%BB%E7%BA%BF%E6%8E%A7%E5%88%B6/file-20250508161831814.png)
### 3.独立请求
- 响应呢速度快，优先次序灵活
- 控制线数量多，控制负责
![file-20250508162036745.png|400](/img/user/images/%E6%80%BB%E7%BA%BF%E6%8E%A7%E5%88%B6/file-20250508162036745.png)
## 总线通信控制
解决主设备从设备协调配合问题
### 总线周期
申请分配，主模块申请，总线仲裁决定
寻址，主模块向从模块提供地址和命令
传数，主从模块交换数据
结束，主模块撤销信息
### 通信方式
同步，统一时标控制数据传送
异步，应答方式
半同步，同步异步结合
分离式通信，挖掘总线每个瞬间潜力
