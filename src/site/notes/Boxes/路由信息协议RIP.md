---
{"dg-publish":true,"permalink":"/Boxes/路由信息协议RIP/","dgPassFrontmatter":true,"created":"2025-05-26T10:27:00.763+08:00","updated":"2025-05-26T10:55:05.541+08:00"}
---

### 基本定义
- RIP使用**跳数**衡量到达目的网络的距离
	- 到直连网络距离为1
	- 非直连网络距离为经过路由器数加一
	- 一条路径最多包含15个路由器（适用小型互联网），距离为16不可达
- RIP认为好的路由是**距离最短**的路由
- 有多条距离相等的路由时，进行**等价负载均衡**（同时发送）
### 要点
- 和谁交换信息，仅和相邻路由器交换信息
- 交换什么信息，路由表
- 何时交换信息，周期性交换
### 工作过程
1. 刚开始工作，只知道到**直连网络距离为1**
2. 每个路由器和**相邻路由器**交换并更新**路由信息**
3. 若干次交换后，每个路由器知道到达各网络的**最短距离**和**下一跳地址**，则收敛
### 更新规则
- 下一跳地址改为C，**距离加1**
![file-20250526103558851.png](/img/user/images/%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AERIP/file-20250526103558851.png)

- 到达目的网络，相同下一跳，最新消息，更新
- 发现新网络，添加
- 到达目的网络，不同下一跳，新路由好，更新
- 到达目的网络，不同下一跳，距离相等，进行等价负载均衡
- 到达目的网络，不同下一跳，新路由不好，不更新
![file-20250526104046991.png](/img/user/images/%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AERIP/file-20250526104046991.png)
### 问题
- 坏消息传得慢
	- 限制最大路径距离为15
	- 当路由表发生变化时就发送更新报文

### 练习
直连才能检测不可达
![file-20250526105456896.png](/img/user/images/%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AERIP/file-20250526105456896.png)